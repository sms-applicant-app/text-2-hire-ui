<div class="card card-custom">
<p *ngIf="franchiseData.length <= 0">No Franchises added Yet</p>
<div class="card-header flex-wrap border-0 pt-6 pb-0">
    <div class="card-title">
      <h3 class="card-label">Franchise Card</h3>
    </div>
 <!-- <div class="card-toolbar">
    <button class="btn btn-light-primary" (click)="export()">Export</button>
  </div>-->
</div>
  <div class="table-responsive" *ngIf="franchiseData.length > 0">
    <mat-table style="min-width: 1250px;" [dataSource]="dataSource" matSort (matSortChange)="announceSortChange($event)"> 
      <ng-container  matColumnDef="businessLegalName">
        <mat-header-cell *matHeaderCellDef>Franchise Legal Name</mat-header-cell>
        <mat-cell *matCellDef="let element">{{element.businessLegalName}}</mat-cell>
      </ng-container>
      <ng-container  matColumnDef="dateCreated">
        <mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription="Sort by date">Date Created</mat-header-cell>
        <mat-cell *matCellDef="let element">{{element.dateCreated | date:'MM-dd-YYYY'}}</mat-cell>
      </ng-container>
      <ng-container  matColumnDef="phoneNumber">
        <mat-header-cell *matHeaderCellDef>Corporate Phone Number</mat-header-cell>
        <mat-cell *matCellDef="let element">{{element.phoneNumber}}</mat-cell>
      </ng-container>
      <ng-container  matColumnDef="corporateEmail">
        <mat-header-cell *matHeaderCellDef>Corporate Email</mat-header-cell>
        <mat-cell *matCellDef="let element">{{element.corporateEmail}}</mat-cell>
      </ng-container>
      <ng-container  matColumnDef="dba">
        <mat-header-cell *matHeaderCellDef>DBA</mat-header-cell>
        <mat-cell *matCellDef="let element">{{element.dba}}</mat-cell>
      </ng-container>
      <ng-container  matColumnDef="actions">
        <mat-header-cell *matHeaderCellDef>Actions</mat-header-cell>
        <mat-cell *matCellDef="let element">
            <button class="p-0" mat-button (click)="addUserToFranchise(element.id)" [disabled]="element.isActive === false">
              <ion-icon name="add-circle"></ion-icon>
              User 
            </button>
            <button class="p-0" mat-button (click)="addStoreToFranchise(element.id)" [disabled]="element.isActive === false">
              <ion-icon name="add-circle-outline"></ion-icon>
              Store
            </button>
            <button class="p-0" mat-button (click)="getFranchiseDetails(element.id)" [disabled]="element.isActive === false">
              <ion-icon name="open-outline"></ion-icon>
              Details 
            </button>
            <button aria-label="Click to change status Franchisee" class="p-0" mat-stroked-button [color]="element.isActive === false ? 'warn' : 'primary'" (click)="handledActiveUser(element)">
              <span *ngIf="element.isActive || element.isActive === undefined">Active</span>
              <span *ngIf="element.isActive === false">Inactive</span>
            </button>
        </mat-cell>
      </ng-container>
      <mat-header-row *matHeaderRowDef="displayColumns"></mat-header-row>
      <mat-row *matRowDef="let row; columns: displayColumns "></mat-row>
    </mat-table>
    <mat-paginator 
      [pageSizeOptions]="[25, 50]"
      showFirstLastButtons 
      aria-label="Select page of periodic elements">
    </mat-paginator>
  </div>
</div>
